
# 系统模型
##资源分配图

矩阵
链表

#特征

##死锁出现可能出现如果四个条件同时成立【必要条件】
+ 互斥：在一个时间只能有一个进程使用资源
+ 持有并等待：进程保持至少一个资源正在等待获取其他进程持有的额外资源
+ 无抢占：一个资源只能被进程资源释放，进程以及完成了它的任务之后
+ 循环等待：存在等待进程集合{p0,p1,....pn}，po正在等待p1所占用的资源，p1
正在等待p2所占用的资源......pn-1正在等待pn所占用的资源,pn正在等待p0所占用的资源

#死锁处理办法

##死锁预防
### 限制申请方式
+ 互斥 -共享资源不是必须的，必须占用非共享资源
+ 占用并等待 -必须保证当前一个进程请求的资源，它不持有任何其他资源 
+ 无抢占
 >1.如果进程占有某些资源，并请求其他不能被立即分配的资源，则释放当前正占有的资源
 >2.被抢占资源添加到资源列表中                                 
 >3.只有当它能够获得旧的资源以及它请求的新的资源，进程可以得到执行

+ 循环等待 - 对所有的资源类型进行排序，并要求每个进程按照资源的顺序进行申请

##死锁避免
###需要系统具有一些额外的先验信息提供
+ 最简单和最优小的模式是要求每个进程声明它可能需要的每个类型资源的最大数目
+ 资源的分配状态通过限定与分配的资源数量，和进程的最大需求
+ 死锁避免算法动态检查资源的分配状态，以确保永远不会有一个环形等待状态

### 安全状态：针对所有进程，存在安全序列
序列<p1,p2....pn>是安全的：很对每个pi,pi要求的资源能够由当前可用的资源+所有的pj持有的资源来满足,其中j<i

银行家算法

##死锁检测
* 允许系统进入死锁状态
* 死锁检测算法
* 恢复机制

资源分配图 简化版 只有进程  检测环
银行家算法

##死锁恢复


